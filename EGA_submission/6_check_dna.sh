cd xml/out
head *dna*exp*([1])
cat *dna*exp* | grep "filename" | sed 's/^.*\"\(.*\)\".*\".*\"$/\1/g' > expected_names.txt
## Turn into array
expected_names=( ${(f)"$(cat expected_names.txt)"} )

## Fastqs of file names successfully received by EGA
observed_names=(
	4877_1_CF10640_ATGCCTAA_1.fastq.gz
	4877_1_CF10640_ATGCCTAA_2.fastq.gz
	4877_10_CF10748_CCGAAGTA_1.fastq.gz
	4877_10_CF10748_CCGAAGTA_2.fastq.gz
	4877_11_CF10749_CTCAATGA_1.fastq.gz
	4877_11_CF10749_CTCAATGA_2.fastq.gz
	4877_12_CF10750_CTGAGCCA_1.fastq.gz
	4877_12_CF10750_CTGAGCCA_2.fastq.gz
	4877_13_CF10751_GATAGACA_1.fastq.gz
	4877_13_CF10751_GATAGACA_2.fastq.gz
	4877_14_CF11573_AGAGTCAA_1.fastq.gz
	4877_14_CF11573_AGAGTCAA_2.fastq.gz
	4877_15_CF11574_CCGTGAGA_1.fastq.gz
	4877_15_CF11574_CCGTGAGA_2.fastq.gz
	4877_16_CF11575_GACTAGTA_1.fastq.gz
	4877_16_CF11575_GACTAGTA_2.fastq.gz
	4877_17_CF11576_GCCACATA_1.fastq.gz
	4877_17_CF11576_GCCACATA_2.fastq.gz
	4877_18_CF11578_GCGAGTAA_1.fastq.gz
	4877_18_CF11578_GCGAGTAA_2.fastq.gz
	4877_19_CF11582_CTGGCATA_1.fastq.gz
	4877_19_CF11582_CTGGCATA_2.fastq.gz
	4877_2_CF10641_CGCTGATC_1.fastq.gz
	4877_2_CF10641_CGCTGATC_2.fastq.gz
	4877_20_CF11583_GAATCTGA_1.fastq.gz
	4877_20_CF11583_GAATCTGA_2.fastq.gz
	4877_21_CF11633_CGAACTTA_1.fastq.gz
	4877_21_CF11633_CGAACTTA_2.fastq.gz
	4877_22_CF11868_GTCGTAGA_1.fastq.gz
	4877_22_CF11868_GTCGTAGA_2.fastq.gz
	4877_23_CF13769_GTCTGTCA_1.fastq.gz
	4877_23_CF13769_GTCTGTCA_2.fastq.gz
	4877_24_CF13771_TCTTCACA_1.fastq.gz
	4877_24_CF13771_TCTTCACA_2.fastq.gz
	4877_25_CF14114_GCTAACGA_1.fastq.gz
	4877_25_CF14114_GCTAACGA_2.fastq.gz
	4877_26_CF14122_GCTCGGTA_1.fastq.gz
	4877_26_CF14122_GCTCGGTA_2.fastq.gz
	4877_27_CF14215_GTGTTCTA_1.fastq.gz
	4877_27_CF14215_GTGTTCTA_2.fastq.gz
	4877_28_CF14216_TAGGATGA_1.fastq.gz
	4877_28_CF14216_TAGGATGA_2.fastq.gz
	4877_29_CF14401_TGAAGAGA_1.fastq.gz
	4877_29_CF14401_TGAAGAGA_2.fastq.gz
	4877_3_CF10642_ACGCTCGA_1.fastq.gz
	4877_3_CF10642_ACGCTCGA_2.fastq.gz
	4877_30_CF14402_TGGAACAA_1.fastq.gz
	4877_30_CF14402_TGGAACAA_2.fastq.gz
	4877_31_CF14404_TGGCTTCA_1.fastq.gz
	4877_31_CF14404_TGGCTTCA_2.fastq.gz
	4877_32_CF15153_AATGTTGC_1.fastq.gz
	4877_32_CF15153_AATGTTGC_2.fastq.gz
	4877_33_CF15154_GAGCTGAA_1.fastq.gz
	4877_33_CF15154_GAGCTGAA_2.fastq.gz
	4877_34_CF15155_TATCAGCA_1.fastq.gz
	4877_34_CF15155_TATCAGCA_2.fastq.gz
	4877_35_CF15156_TCCGTCTA_1.fastq.gz
	4877_35_CF15156_TCCGTCTA_2.fastq.gz
	4877_36_CF15158_TGGTGGTA_1.fastq.gz
	4877_36_CF15158_TGGTGGTA_2.fastq.gz
	4877_37_CF15160_TTCACGCA_1.fastq.gz
	4877_37_CF15160_TTCACGCA_2.fastq.gz
	4877_38_CF15177_CGACACAC_1.fastq.gz
	4877_38_CF15177_CGACACAC_2.fastq.gz
	4877_39_CF15178_CGGATTGC_1.fastq.gz
	4877_39_CF15178_CGGATTGC_2.fastq.gz
	4877_4_CF10647_CAGCGTTA_1.fastq.gz
	4877_4_CF10647_CAGCGTTA_2.fastq.gz
	4877_40_CF15184_ACACGACC_1.fastq.gz
	4877_40_CF15184_ACACGACC_2.fastq.gz
	4877_41_CF15185_AACTCACC_1.fastq.gz
	4877_41_CF15185_AACTCACC_2.fastq.gz
	4877_42_CF15187_AAGAGATC_1.fastq.gz
	4877_42_CF15187_AAGAGATC_2.fastq.gz
	4877_43_CF15188_CTAAGGTC_1.fastq.gz
	4877_43_CF15188_CTAAGGTC_2.fastq.gz
	4877_45_CF15398_ACAGATTC_1.fastq.gz
	4877_45_CF15398_ACAGATTC_2.fastq.gz
	4877_46_CF16075_AGATGTAC_1.fastq.gz
	4877_46_CF16075_AGATGTAC_2.fastq.gz
	4877_47_CF16228_ATAGCGAC_1.fastq.gz
	4877_47_CF16228_ATAGCGAC_2.fastq.gz
	4877_48_CF16901_CAAGGAGC_1.fastq.gz
	4877_48_CF16901_CAAGGAGC_2.fastq.gz
	4877_49_CF16906_AAGGACAC_1.fastq.gz
	4877_49_CF16906_AAGGACAC_2.fastq.gz
	4877_5_CF10649_CATACCAA_1.fastq.gz
	4877_5_CF10649_CATACCAA_2.fastq.gz
	4877_50_CF16907_AATCCGTC_1.fastq.gz
	4877_50_CF16907_AATCCGTC_2.fastq.gz
	4877_51_CF17352_AGCACCTC_1.fastq.gz
	4877_51_CF17352_AGCACCTC_2.fastq.gz
	4877_6_CF10651_CGACTGGA_1.fastq.gz
	4877_6_CF10651_CGACTGGA_2.fastq.gz
	4877_7_CF10677_CGCATACA_1.fastq.gz
	4877_7_CF10677_CGCATACA_2.fastq.gz
	4877_8_CF10682_ACACAGAA_1.fastq.gz
	4877_8_CF10682_ACACAGAA_2.fastq.gz
	4877_9_CF10688_CCAGTTCA_1.fastq.gz
	4877_9_CF10688_CCAGTTCA_2.fastq.gz)

for f in $expected_names; do echo $f; done

## Intersection
comm -12 <(printf '%s\n' "${expected_names[@]}" | LC_ALL=C sort) <(printf '%s\n' "${observed_names[@]}" | LC_ALL=C sort)
## Set difference (should be empty)
comm -13 <(printf '%s\n' "${expected_names[@]}" | LC_ALL=C sort) <(printf '%s\n' "${observed_names[@]}" | LC_ALL=C sort)
